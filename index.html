<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
   <head>
      <meta charset=utf-8>
      <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1">
      <title>Sky@Leeds Dock - The story so far</title>

      <meta name=viewport content="width=device-width, initial-scale=1">
      <meta name=apple-mobile-web-app-capable content=yes>
      <meta name=description content="Sky@Leeds Dock - The story so far">
      <meta property=og:title content="Sky@Leeds Dock - The story so far">
      <meta property=og:type content="Sky@Leeds Dock - The story so far">
      <meta property=og:url content="Sky@Leeds Dock - The story so far">
      <meta property=og:image content="largetile.png">
      <meta property=og:description content="Sky@Leeds Dock - The story so far">
      <meta property=og:locale content="en_UK">
      <meta property=og:site_name content="Sky@Leeds Dock - The story so far">
      <meta name=twitter:card content=summary>
      <meta name=twitter:description content="Sky@Leeds Dock - The story so far">
      <meta name=twitter:title content="Sky@Leeds Dock - The story so far">
      <meta name=twitter:site content="Sky@Leeds Dock - The story so far">
      <meta name=twitter:domain content="Sky@Leeds Dock - The story so far">
      <meta name=twitter:image:src content="Sky@Leeds Dock - The story so far">
      <meta name=twitter:creator content="Sky@Leeds Dock - The story so far">
  
      <link rel="shortcut icon" href=/img/favicon.ico type=image/x-icon>
      <link rel=apple-touch-icon sizes=57x57 href=/img/apple-touch-icon-57x57.png>
      <link rel=apple-touch-icon sizes=60x60 href=/img/apple-touch-icon-60x60.png>
      <link rel=apple-touch-icon sizes=72x72 href=/img/apple-touch-icon-72x72.png>
      <link rel=apple-touch-icon sizes=76x76 href=/img/apple-touch-icon-76x76.png>
      <link rel=apple-touch-icon sizes=114x114 href=/img/apple-touch-icon-114x114.png>
      <link rel=apple-touch-icon sizes=120x120 href=/img/apple-touch-icon-120x120.png>
      <link rel=apple-touch-icon sizes=144x144 href=/img/apple-touch-icon-144x144.png>
      <link rel=apple-touch-icon sizes=152x152 href=/img/apple-touch-icon-152x152.png>
      <link rel=apple-touch-icon sizes=180x180 href=/img/apple-touch-icon-180x180.png>
      <link rel=icon type=image/png href=/img/favicon-16x16.png sizes=16x16>
      <link rel=icon type=image/png href=/img/favicon-32x32.png sizes=32x32>
      <link rel=icon type=image/png href=/img/favicon-96x96.png sizes=96x96>
      <link rel=icon type=image/png href=/img/android-chrome-192x192.png sizes=192x192>
      <meta name=msapplication-square70x70logo content=/img/smalltile.png>
      <meta name=msapplication-square150x150logo content=/img/mediumtile.png>
      <meta name=msapplication-wide310x150logo content=/img/widetile.png>
      <meta name=msapplication-square310x310logo content=/img/largetile.png>

      <link rel="stylesheet" href="css/styles.css">
      <script>
        (function(){
          var date = new Date();
          var hour = date.getHours();
          var tick = Math.ceil(hour / 4);
          document.documentElement.className += ' tick-' + tick;
        })()
      </script>
</head>
<body>
   <div class="site-header">
     <div class="wrap">
       <div class="site-logo">logo</div>
     </div>
   </div>
   <div class="site-body">
     <div class="wrap">
       <div class="player">
          <img class="player__target" src="current-image.jpg" data-role="player-overlay" aria-hidden="false">
          <video class="player__target" data-role="player">
            <source src="current-video.mp4">
          </video>
          
            <div class="controls__play-pause" data-role="player-play"></div>
            <div class="controls__scrub">
              <input type="range" value="0" data-role="player-scrub">
            </div>

          <div class="controls__player-close" data-role="player-close">x</div>
       </div>
     </div>
   </div>
   <div class="site-footer">
     <div class="wrap">
       footer
     </div>
   </div>

   <script>
    (function(){

      // grab elements
      var video = document.querySelector('[data-role="player"]');
      var overlay = document.querySelector('[data-role="player-overlay"]');
      var playButton = document.querySelector('[data-role="player-play"]');
      var closePlayerButton = document.querySelector('[data-role="player-close"]');
      var playerScrub = document.querySelector('[data-role="player-scrub"]');
      var playerComplete = 0;

      var hasTouch = ('ontouchstart' in window) || (('DocumentTouch' in window) && document instanceof window.DocumentTouch);
      var touchdown = hasTouch ? 'ontouchstart' : 'onmousedown';
      var touchoff = hasTouch ? 'ontouchend' : 'onmouseup';

      function showOverlay(show){
        if(show){
          overlay.setAttribute('aria-hidden', 'false');
        }

        else {
          overlay.setAttribute('aria-hidden', 'true');
        }
      }

      function showPlaying(show){
        if(show){
          playButton.setAttribute('data-playing', true);
        }

        else {
          playButton.setAttribute('data-playing', false);
        }
      }

      function closeVideo(){
        showOverlay(true);
        vide.pause();
        showPlay(true);
      }

      // add click action
      playButton.onclick = function(){

        if(!video.paused){
          video.pause();
          showPlaying(false);
          showOverlay(false);
        }
        else {
          video.play();
          showPlaying(true);
          showOverlay(false);
        }
      }

      closePlayerButton.onclick = function(){
        video.pause();
        showOverlay(true);
        showPlaying(false);
      }

      // fullScreenButton.onclick = function() {
      //   if (video.requestFullscreen) {
      //     video.requestFullscreen();
      //   } else if (video.mozRequestFullScreen) {
      //     video.mozRequestFullScreen(); // Firefox
      //   } else if (video.webkitRequestFullscreen) {
      //     video.webkitRequestFullscreen(); // Chrome and Safari
      //   }
      // };


      playerScrub.oninput = function(){
        
        // Calculate the new time
        var time = video.duration * (this.value / 100);

        // Update the video time
        video.currentTime = time;
      }

      playerScrub[touchdown] = function(){

        if(!video.paused){
          video.setAttribute('was-playing', true);
        }
        video.pause();
      }

      playerScrub[touchoff] = function(){
        if(video.getAttribute('was-playing')){
          video.play();
          video.removeAttribute('was-playing');
        }
      }

      video.ontimeupdate = function() {
        // Calculate the slider value
        var value = (100 / video.duration) * video.currentTime;

        // Update the slider value
        playerScrub.value = value;
      };

      video.onended = function(){
        playerScrub.value = 0;
        showPlaying(false);
      }

    })();
   </script>
</body>
</html>